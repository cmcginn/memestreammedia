/**
 * Created with JetBrains WebStorm.
 * User: Chris
 * Date: 3/12/13
 * Time: 6:21 AM
 * To change this template use File | Settings | File Templates.
 */
var Api = require("api")
    , testdata = require('./mockdata.js')
    , util = require("util");
var MockApi = function (options) {
    $this = this;
    Api.call($this);
}
util.inherits(MockApi, Api);
MockApi.prototype = {
    constructor:MockApi,
    getUsers:function (options) {

        setTimeout(function () {
            var result = {data:testdata.users};
            options.callback(result);
        }, 3000);
    },
    getNewUser:function (options) {
        setTimeout(function () {
            var result = {data:testdata.newUser};
            options.callback(result);
        }, 3000);
    },
    saveUser:function (options) {
        setTimeout(function () {

            options.user.id = '121';
            testdata.users.users.push(options.user);
            var result = {data:{users:[options.user]}};
            options.callback(result);
        }, 3000);
    }
}

module.exports = MockApi;