/**
 * Created with JetBrains WebStorm.
 * User: Chris
 * Date: 3/12/13
 * Time: 7:00 AM
 * To change this template use File | Settings | File Templates.
 */
var util = require('util')
    , dataservice = require('dataservice')
    , api = require('api');

var mapUser = function(options){
    var result = new api.User(options);
    return result;
}
mapUsers = function (options) {
    var result= {users:[]};
    for(var i=0;i<options.data.length;i++)
    {
        result.users.push(mapUser(options.data[i]));
    }
    return result;
}
var MockMapper = function () {
    $this = this;
    dataservice.Mapper.call(this);
}
util.inherits(MockMapper, dataservice.Mapper);
MockMapper.prototype.map = function (type, data) {
    var result={data:null,error:null}
    switch (type) {
        case 'users':
            result.data = mapUsers(data);
            break;
        case 'user':
            result.data = mapUser(data);
            break;
        default:
            break;
    }
    return result;
}
module.exports = MockMapper;